<hr>
<div class="columns">
  <div class="column is-one-quarter">
    <%= render 'admin/nav' %>
  </div>
  <div class="column content-area">
    <% if @submissions.size > 0 %>
      <table class="table admin-data-table">
      <thead>
        <tr>
          <% if @items_controller %>
            <th>Type</th>
          <% end %>
          <th>Value</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @submissions.each do |submission| %>
          <tr>
            <% if @items_controller %>
              <td>
                <%= submission.model_type.titleize %>
              </td>
            <% end %>
            <td class="value-cell">
              <%= form_for submission, url: admin_submission_validate_path(submission), method: :post do |f| %>
                <span class="invalid-name-text"><%= submission.value %></span>
              <% end %>
            </td>
            <td>
              <a class='validate-link' href="#">
                <i class="material-icons hint--top" aria-label="Validate new store">check</i>
              </a>
            </td>
            <td>
              <%= link_to admin_submission_path(submission), method: :delete do %>
                <i class="material-icons hint--top" aria-label="Delete submission">delete</i>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
      </table>
    <% else %>
      <article class="notification is-success tile is-8 no-submission-alert">
        <i class="material-icons">check_circle</i>
        <p class="is-centered">No submissions to check!</p>
      </article>
    <% end %>
  </div>
</div>

<script>
  var page = new AdminSubmissionsPage();
</script>